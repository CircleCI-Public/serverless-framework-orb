description: >
  Checkout and deploy your serverless project to AWS with minimal setup.

  In this example, both the aws cli and serverless orb are first imported.
  Both orbs have a setup command which installs and authenticates their CLI. AWS is selected by default in the serverless orb, but a "provider" parameter can be supplied.
  This fully enables the use of the serverless CLI for AWS and the "serverless deploy" command can now be ran.
usage:
  version: 2.1
  orbs:
    serverless: circleci/serverless-framework@x.y
    aws-cli: circleci/aws-cli@x.y
    node: circleci/node@x.y
  jobs:
    build:
      docker:
        - image: cimg/python:3.8-node
      steps:
        - checkout
        - node/with-cache:
          steps:
            - run: npm install
        - run: npm run test
        - aws-cli/setup
        - serverless/setup:
            app-name: serverless-framework-orb
            org-name: circleci
        - run:
            name: deploy
            command: serverless deploy -v
